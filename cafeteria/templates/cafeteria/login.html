{% extends 'cafeteria/base.html' %}

{% block title %}Cafeteria Login ‚Äì Ewok Academy{% endblock %}

{% block extra_styles %}
<style>
    .login-wrapper {
        min-height: calc(100vh - 66px);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 40px 20px;
    }

    .login-card {
        width: 100%;
        max-width: 440px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(200, 168, 75, 0.25);
        border-radius: 20px;
        padding: 48px 40px;
        backdrop-filter: blur(14px);
        box-shadow: 0 24px 60px rgba(0, 0, 0, 0.4);
        animation: slideUp 0.5s ease both;
    }

    .login-icon {
        font-size: 3rem;
        text-align: center;
        margin-bottom: 12px;
    }

    .login-card h2 {
        font-family: 'Cinzel', serif;
        color: var(--gold);
        font-size: 1.6rem;
        text-align: center;
        margin-bottom: 6px;
        letter-spacing: 1px;
    }

    .login-card .subtitle {
        text-align: center;
        color: rgba(245, 240, 232, 0.55);
        font-size: 0.9rem;
        margin-bottom: 36px;
    }

    .form-group {
        margin-bottom: 20px;
    }

    .form-group label {
        display: block;
        font-size: 0.8rem;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        color: var(--gold-light);
        margin-bottom: 8px;
    }

    .form-group input {
        width: 100%;
        padding: 13px 16px;
        background: rgba(255, 255, 255, 0.07);
        border: 1px solid rgba(200, 168, 75, 0.2);
        border-radius: 10px;
        color: var(--text-light);
        font-size: 1rem;
        font-family: 'Lato', sans-serif;
        outline: none;
        transition: border-color 0.2s, box-shadow 0.2s;
    }

    .form-group input:focus {
        border-color: var(--gold);
        box-shadow: 0 0 0 3px rgba(200, 168, 75, 0.15);
    }

    .form-group input::placeholder {
        color: rgba(245, 240, 232, 0.3);
    }

    .error-list {
        list-style: none;
        margin-bottom: 20px;
    }

    .error-list li {
        background: rgba(200, 50, 50, 0.25);
        border: 1px solid rgba(200, 50, 50, 0.4);
        border-radius: 8px;
        padding: 10px 14px;
        font-size: 0.88rem;
        color: #ffaaaa;
        margin-bottom: 6px;
    }

    .submit-btn {
        width: 100%;
        padding: 14px;
        margin-top: 8px;
        background: linear-gradient(135deg, var(--gold), var(--gold-light));
        border: none;
        border-radius: 50px;
        color: var(--green-dark);
        font-family: 'Lato', sans-serif;
        font-size: 1rem;
        font-weight: 700;
        letter-spacing: 1.5px;
        text-transform: uppercase;
        cursor: pointer;
        transition: all 0.25s ease;
        box-shadow: 0 4px 20px rgba(200, 168, 75, 0.35);
    }

    .submit-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 28px rgba(200, 168, 75, 0.55);
    }

    .back-link {
        display: block;
        text-align: center;
        margin-top: 24px;
        font-size: 0.88rem;
        color: rgba(245, 240, 232, 0.45);
        text-decoration: none;
        transition: color 0.2s;
    }

    .back-link:hover {
        color: var(--gold);
    }

    @keyframes slideUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="login-wrapper">
    <div class="login-card">
        <div class="login-icon">üîê</div>
        <h2>Cafeteria Access</h2>
        <p class="subtitle">Classified. Ewoks only. Empire not welcome.</p>

        <form method="post" id="login-form">
            {% csrf_token %}

            {# Display any login errors #}
            {% if form.errors %}
            <ul class="error-list">
                {% for field in form %}
                {% for error in field.errors %}
                <li>{{ error }}</li>
                {% endfor %}
                {% endfor %}
                {% for error in form.non_field_errors %}
                <li>{{ error }}</li>
                {% endfor %}
            </ul>
            {% endif %}

            <div class="form-group">
                <label for="id_username">Username</label>
                <input type="text" name="username" id="id_username" placeholder="e.g. Wicket" autocomplete="username"
                    required />
            </div>

            <div class="form-group">
                <label for="id_password">Password</label>
                <input type="password" name="password" id="id_password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                    autocomplete="current-password" required />
            </div>

            <button type="submit" class="submit-btn" id="login-submit-btn">
                üå≤ Enter the Cafeteria
            </button>
        </form>

        <a href="/" class="back-link">‚Üê Back to Academy Home</a>
    </div>
</div>
{% endblock %}